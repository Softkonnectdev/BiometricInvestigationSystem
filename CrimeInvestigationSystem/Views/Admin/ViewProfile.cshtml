

@model CrimeInvestigationSystem.Models.Profile
@{ 
    var imgSrc = "";
}


<div class="row">
    <div class="col">
        <section class="ftco-section" style="padding-top:0px; padding-bottom: 2px;">
            <div class="row justify-content-center">
                <div class="login-wrap">
                    @{
                        if (Model.Passport != null)
                        {
                            var base64 = Convert.ToBase64String(Model.Passport);
                            imgSrc = String.Format("data:image/png;base64,{0}", base64);
                        }
                         
                    }
                    <div class="img" style="background-image: url(@imgSrc);"></div>
                    <h3 class="text-center mb-4">
                        <span>User Profile</span>
                    </h3>

                    <div class="table-responsive">
                        <table class="table table-hover m-2">
                            <tr>
                                <td colspan="2" class="text-left lead fw-bold">Personal Information</td>
                            </tr>
                            <tr>
                                <td class="text-left">Full Name</td>
                                <td class="text-left">@String.Format("{0} {1} {2}", Model.SurName, Model.FirstName, Model.MiddleName)</td>
                            </tr>

                            <tr>
                                <td class="text-left">Date of Birth</td>
                                <td class="text-left">@Model.DOB</td>
                            </tr>
                            <tr>
                                <td class="text-left">Email</td>
                                <td class="text-left">@Model.Email</td>
                            </tr>
                            <tr>
                                <td class="text-left">Gender</td>
                                <td class="text-left">@Model.Gender</td>
                            </tr>

                            <tr>
                                <td class="text-left">Residential Address</td>
                                <td class="text-left">@Model.ResidentialAddress</td>
                            </tr>

                            <tr>
                                <td class="text-left">Permanent Address</td>
                                <td class="text-left">@Model.PermanentResident</td>
                            </tr>
                            <tr>
                                <td class="text-left">Origin LGA</td>
                                <td class="text-left">@Model.LGA</td>
                            </tr>
                            <tr>
                                <td class="text-left">Origin State</td>
                                <td class="text-left">@Model.State</td>
                            </tr>
                            <tr>
                                <td class="text-left">Origin Country</td>
                                <td class="text-left">@Model.Nationality</td>
                            </tr>

                            <tr>
                                <td class="text-left">Marital Status</td>
                                <td class="text-left">@Model.MaritalStatus</td>
                            </tr>
                            <tr>
                                <td class="text-left">Occupation</td>
                                <td class="text-left">@Model.Occupation</td>
                            </tr>
                            <tr>
                                <td class="text-left">Next of Kin</td>
                                <td class="text-left">@Model.NextofKinName</td>
                            </tr>
                            <tr>
                                <td class="text-left">Next of Kin Phone</td>
                                <td class="text-left">@Model.NextofKinPhone</td>
                            </tr>
                            <tr>
                                <td colspan="2" class="text-left lead fw-bold">Means of Identification</td>
                            </tr>
                            <tr>
                                <td class="text-left">ID Type</td>
                                <td class="text-left">@Model.IdentificationType</td>
                            </tr>
                            <tr>
                                <td class="text-left">ID Number</td>
                                <td class="text-left">@Model.IdentificationNumber</td>
                            </tr>

                            <tr>
                                <td class="text-left">Issued On</td>
                                <td class="text-left">@Model.IdentificationIssuedDate</td>
                            </tr>
                            <tr>
                                <td class="text-left">Valid Till</td>
                                <td class="text-left">@Model.IdentificationValidTill</td>
                            </tr>
                            <tr>
                                <td colspan="2" class="text-left lead fw-bold">Account Information</td>
                            </tr>
                            <tr>
                                <td class="text-left">Account Status</td>
                                <td class="text-left">
                                    @if (Model.IsActive)
                                    {
                                        <span class="bg-success text-light badge">ACTIVE</span>
                                    }
                                    else
                                    {
                                        <span class="bg-danger text-light badge">DEACTIVATED</span>
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td class="text-left">Profile Create On</td>
                                <td class="text-left">@Model.CreatedOn</td>
                            </tr>
                            <tr>
                                <td colspan="2" class="text-left lead fw-bold">Biometrics</td>
                            </tr>
                           

                        </table>
                    </div>


                    @if (Model.Crimes.Count > 0)
                    {
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Defaulted law</th>
                                        <th>Type of Crime</th>

                                    </tr>
                                </thead>

                                <tbody class="table-group-divider">
                                    @{ int i = 1;}
                                    @foreach (var item in Model.Crimes)
                                    {
                                        var ItemCount = Model.Crimes.Count();
                                        <tr id="row_@item.Id">
                                            <td>
                                                @if (i <= ItemCount)
                                                {
                                                    @i
                                                }

                                            </td>

                                            <td>@item.DefaultedLaw</td>
                                            <td>@item.Type</td>
                                           
                                        </tr>
                                        i++;
                                    }
                                </tbody>

                            </table>

                        </div>
                    }



                    <p class="lead text-center m-2">
                        All the information are provided by the user!
                    </p>
                </div>
            </div>
        </section>
    </div>

</div>